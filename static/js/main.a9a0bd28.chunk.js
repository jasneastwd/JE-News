(this["webpackJsonpnc-news"]=this["webpackJsonpnc-news"]||[]).push([[0],{118:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),a=c(11),s=c.n(a),i=(c(86),c(7)),o=(c(87),c(14)),l=c(12),u=c(1),j=function(){return Object(u.jsx)("header",{className:"Header",children:Object(u.jsx)("h1",{children:Object(u.jsxs)(l.b,{to:"/",className:"app-heading",children:["JE-News"," "]})})})},b=n.a.createContext(),d=function(){var e=Object(r.useContext)(b).user;return Object(u.jsxs)("nav",{className:"Nav",children:[Object(u.jsx)(l.b,{to:"/",className:"nav-links",children:"Home"}),Object(u.jsxs)(l.b,{to:"/topics",className:"nav-links",children:["Topics"," "]}),Object(u.jsxs)(l.b,{to:"/articles",className:"nav-links",children:["Articles"," "]}),Object(u.jsx)(l.b,{to:"/Users",className:"nav-links",children:"Login"}),Object(u.jsx)(l.b,{to:"/Users/".concat(e.username),className:"nav-links",children:"Profile"})]})},O=c(152),h=function(){var e=Object(r.useContext)(b).user;return Object(u.jsxs)(O.a,{children:[Object(u.jsxs)("h1",{children:["Welcome back ",e.username," "]}),Object(u.jsx)("section",{className:"outer-article",children:Object(u.jsxs)("section",{className:"article-body",children:[Object(u.jsx)("h2",{children:"Welcome to JE-News! "}),"This is my first full-stack project!"," ",Object(u.jsx)("br",{}),Object(u.jsx)("br",{})," This is my first project which took approximately 10 days to build during my time at"," ",Object(u.jsx)("a",{href:"https://northcoders.com",children:"NorthCoders"}),".",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Feel free to have a look around: post new topics, post new articles, create new users, vote for articles, leave comments on articles, change your avatar, and much more soon!",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Thanks for visiting!"]})})]})},p=c(8),m=c(9),x=c.n(m),f=c(17),v=c(65),y=c.n(v).a.create({baseURL:"https://jasneastwd-nc-news.herokuapp.com/api"}),g=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/topics",{params:{order:t}});case 2:return c=e.sent,r=c.data,e.abrupt("return",r.topics);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.sortOrder,r=t.sortProperty,e.next=3,y.get("/articles",{params:{order:c,sort_by:r}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a.articles);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r,n,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.filter,r=t.sortOrder,n=t.sortProperty,e.next=3,y.get("/articles",{params:{order:r,sort_by:n,topic:c}});case 3:return a=e.sent,s=a.data,e.abrupt("return",s.articles);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/articles/".concat(t));case 2:return c=e.sent,r=c.data,e.abrupt("return",r.article);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete("/articles/".concat(t)).then((function(){return alert("You have deleted the item!")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(x.a.mark((function e(){var t,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/users");case 2:return t=e.sent,c=t.data,e.abrupt("return",c.users);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/users",t);case 2:return c=e.sent,r=c.data,e.abrupt("return",r.users);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/users/".concat(t));case 2:return c=e.sent,r=c.data,e.abrupt("return",r.user);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/articles/".concat(t,"/comments"));case 2:return c=e.sent,r=c.data,e.abrupt("return",r.comments);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(x.a.mark((function e(t,c){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete("/articles/".concat(t,"/comments/").concat(c)).then((function(){return alert("You have deleted the comment!")}));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/articles/".concat(t.article_id,"/comments"),t);case 2:return c=e.sent,r=c.data,e.abrupt("return",r.comments);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/topics",t);case 2:return c=e.sent,r=c.data,e.abrupt("return",r.topics);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/articles",t);case 2:return c=e.sent,r=c.data,e.abrupt("return",r.articles);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(f.a)(x.a.mark((function e(t,c){var r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("/articles/".concat(t),{inc_votes:c});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.article);case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("/Users/".concat(t.username),t);case 2:return c=e.sent,r=c.data,e.abrupt("return",r.user);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=c(149),L=c(153),R=function(){var e=Object(o.f)(),t={slug:"",description:""},c=Object(r.useState)([]),n=Object(i.a)(c,2),a=n[0],s=n[1],j=Object(r.useState)(t),b=Object(i.a)(j,2),d=b[0],O=b[1],h=Object(r.useState)("ASC"),m=Object(i.a)(h,2),x=m[0],f=m[1];Object(r.useEffect)((function(){g(x).then((function(e){s(e)}))}),[x]);return Object(u.jsx)("div",{className:"main-area",children:Object(u.jsxs)("main",{className:"Topics",children:[Object(u.jsxs)("div",{className:"post-topic-form",children:[Object(u.jsx)("h2",{children:"Post a Topic:"}),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault(),D(d).then((function(){alert("topic posted!"),s(t),e.push("/")}))},children:[Object(u.jsxs)("label",{htmlFor:"topic-slug",className:"post-user-label",children:["Topic:"," "]}),Object(u.jsx)(L.a,{className:"post-box",type:"text",id:"topic-slug",value:d.slug,required:!0,onChange:function(e){O((function(t){return Object(p.a)(Object(p.a)({},t),{},{slug:e.target.value})}))}}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{className:"post-user-label ",htmlFor:"topic-description",children:["Body:"," "]}),Object(u.jsx)(L.a,{className:"post-box-big",type:"text",id:"topic-description",value:d.description,required:!0,onChange:function(e){O((function(t){return Object(p.a)(Object(p.a)({},t),{},{description:e.target.value})}))}}),Object(u.jsx)("br",{}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",children:"Post topic"})]})]}),Object(u.jsx)("h2",{children:"All Topics"}),Object(u.jsxs)("p",{children:["Sorted by: Topics ","ASC"===x?"Ascending":"Descending"]}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",onClick:function(){return f("ASC")},children:"Topics: A-Z"}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",onClick:function(){return f("DESC")},children:"Topics: Z-A"}),Object(u.jsx)("ul",{className:"each-topic row",children:a.map((function(e){var t=e.slug,c=e.description;return Object(u.jsxs)("li",{className:"topics-list column",children:[Object(u.jsx)("h3",{children:Object(u.jsx)(l.b,{to:"/articles?topic=".concat(t),children:t})}),Object(u.jsxs)("p",{children:["About: ",c]})]},t)}))})]})})},V=function(e){var t=e.votes,c=e.username,n=Object(r.useState)(0),a=Object(i.a)(n,2),s=a[0],o=a[1],l=s>0,j=s<0;return Object(u.jsxs)("section",{children:[Object(u.jsxs)("p",{children:["Votes: ",t+s]}),Object(u.jsx)(F.a,{disabled:l,onClick:function(){o((function(e){return e+1})),B(c,1).catch((function(){o(0)}))},color:"primary",variant:"outlined",children:"\u2b06 Votes"}),Object(u.jsx)(F.a,{disabled:j,onClick:function(){o((function(e){return e-1})),B(c,-1).catch((function(){o(0)}))},color:"primary",variant:"outlined",children:"\u2b07 Votes"})]})},J=n.a.createContext(),H=c(66),I=c(154),W=c(155),M=c(147),Y=c(150),Z=function(){var e=Object(o.f)(),t=Object(r.useContext)(b).user,c=Object(r.useContext)(J).topics,n=Object(r.useState)([]),a=Object(i.a)(n,2),s=a[0],j=a[1],d={topic:"",title:"",body:"",author:"".concat(t.username)},O=Object(r.useState)(d),h=Object(i.a)(O,2),m=h[0],x=h[1],f=Object(r.useState)("ASC"),v=Object(i.a)(f,2),y=v[0],g=v[1],w=Object(r.useState)("title"),k=Object(i.a)(w,2),S=k[0],_=k[1],A=Object(r.useState)(""),T=Object(i.a)(A,2),P=T[0],U=T[1];Object(r.useEffect)((function(){"show-all"===P?N({sortOrder:y,sortProperty:S}).then((function(e){j(e)})):C({filter:P,sortOrder:y,sortProperty:S}).then((function(e){j(e)}))}),[j,y,S,P]);return Object(u.jsxs)("main",{className:"Articles",children:[Object(u.jsxs)("div",{className:"select-dropdowns",children:[Object(u.jsx)("h2",{children:"All Articles"}),Object(u.jsxs)(M.a,{children:[Object(u.jsx)(I.a,{id:"demo-simple-select-label",children:"Filter by: "}),Object(u.jsx)(Y.a,{className:"select-box-2",variant:"filled",labelId:"demo-simple-select-label",id:"demo-simple-select",required:!0,value:P,onChange:function(e){U(e.target.value)},children:c.map((function(e){var t=e.slug;return Object(u.jsx)("option",{value:t,children:t},t)}))})]}),Object(u.jsxs)("p",{children:["Sorted by: ",S," ","ASC"===y?"Ascending":"Descending"]}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",onClick:function(){return _("title")},children:"Title"}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",onClick:function(){return _("topic")},children:"Topic"}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",onClick:function(){return _("votes")},children:"Votes"}),Object(u.jsx)("br",{}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",onClick:function(){return g("ASC")},children:"\u2b06"}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",onClick:function(){return g("DESC")},children:"\u2b07"})]}),Object(u.jsx)("ul",{className:"each-article row",children:s.map((function(e){var t=e.article_id,c=e.title,r=e.topic,n=e.created_at,a=e.votes;return Object(u.jsxs)("li",{className:"articles-list column",children:[Object(u.jsx)(l.b,{to:"/articles/".concat(t),children:Object(u.jsx)("h3",{children:c})}),Object(u.jsx)(l.b,{to:"/articles?topic=".concat(r),children:Object(u.jsxs)("p",{children:["Topic: ",r," "]})}),Object(u.jsxs)("p",{children:["Posted: ",n]}),Object(u.jsx)(V,{votes:a,username:t})]},t)}))}),Object(u.jsxs)("div",{className:"post-article-form",children:[Object(u.jsx)("h2",{className:"article-form-headings",children:"Post an Article:"}),Object(u.jsxs)(M.a,{onSubmit:function(t){t.preventDefault(),E(m).then((function(){H.a,x(d),e.push("/articles")}))},children:[Object(u.jsx)(I.a,{id:"demo-simple-select-label",children:"Topic: "}),Object(u.jsx)(Y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",required:!0,value:m.topic,onChange:function(e){x((function(t){return Object(p.a)(Object(p.a)({},t),{},{topic:e.target.value})}))},children:c.map((function(e){var t=e.slug;return Object(u.jsx)(W.a,{value:t,children:t},t)}))}),Object(u.jsx)(L.a,{id:"filled-basic-1",label:"Title",variant:"filled",required:!0,value:m.title,onChange:function(e){x((function(t){return Object(p.a)(Object(p.a)({},t),{},{title:e.target.value})}))}}),Object(u.jsx)(L.a,{id:"filled-basic-2",label:"Write your article here",variant:"filled",rows:"5",type:"text",required:!0,value:m.body,onChange:function(e){x((function(t){return Object(p.a)(Object(p.a)({},t),{},{body:e.target.value})}))}}),Object(u.jsx)("br",{}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",children:"Post article"})]})]})]})},z=function(){var e=Object(o.f)(),t=Object(r.useContext)(b).user,c=Object(o.h)(),n=Object(r.useState)({}),a=Object(i.a)(n,2),s=a[0],j=a[1],d={article_id:"".concat(c.article_id),author:"".concat(t.username),body:""},h=Object(r.useState)(d),m=Object(i.a)(h,2),x=m[0],f=m[1],v=Object(r.useState)(!1),y=Object(i.a)(v,2),g=y[0],N=y[1];Object(r.useEffect)((function(){w(c.article_id).then((function(e){j(e)}))}),[c.article_id]);return g&&e.push("/articles"),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(O.a,{className:"individual-article",children:[Object(u.jsx)("section",{className:"outer-article",children:Object(u.jsxs)("section",{className:"article-body",children:[Object(u.jsx)("h2",{children:s.title}),Object(u.jsxs)("p",{children:[" ",s.body]}),Object(u.jsxs)("p",{children:["Author: ",s.author]}),Object(u.jsxs)("p",{children:["Created at: ",s.created_at]}),Object(u.jsxs)("p",{children:["Topic: ",s.topic]}),Object(u.jsx)(V,{votes:s.votes,username:s.article_id}),Object(u.jsx)(l.b,{to:"/articles",children:Object(u.jsx)(F.a,{color:"primary",variant:"outlined",children:"Back to Articles"})}),Object(u.jsx)(l.b,{to:"/articles/".concat(s.article_id,"/comments"),children:Object(u.jsx)(F.a,{color:"primary",variant:"outlined",children:"Read Comments"})})]})}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",onClick:function(){!function(e){var t=e.article_id;k(t).then((function(){N(!0),alert("Article deleted")}))}(s)},children:"Delete Article"})]}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"post-comment-form",children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),U(x).then((function(){alert("comment posted!"),f(d),e.push("/articles/".concat(s.article_id,"/comments"))}))},children:[Object(u.jsxs)("label",{htmlFor:"comment-body",className:"comment-box-label",children:["Leave a comment:"," "]}),Object(u.jsx)("textarea",{rows:"4",type:"text",id:"comment-body",className:"post-box-comment",value:x.body,required:!0,onChange:function(e){f((function(t){return Object(p.a)(Object(p.a)({},t),{},{body:e.target.value})}))}}),Object(u.jsx)("br",{}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",children:"Post"})]})})})]})},G=function(){var e=Object(o.f)(),t=Object(o.h)(),c=Object(r.useState)([]),n=Object(i.a)(c,2),a=n[0],s=n[1],l=Object(r.useState)(!1),j=Object(i.a)(l,2),b=j[0],d=j[1];Object(r.useEffect)((function(){T(t.article_id).then((function(e){s(e)}))}),[t.article_id]);return b&&e.push("/articles/".concat(t.article_id)),Object(u.jsxs)("main",{children:[Object(u.jsxs)("section",{className:"article-comments-section",children:[Object(u.jsx)("h2",{children:"Previous Article Comments"}),Object(u.jsx)("button",{className:"myButton",onClick:function(){return e.push("/articles/".concat(t.article_id))},children:"Back to Article"})]}),Object(u.jsx)("ul",{className:"each-comment",children:a.map((function(e){var c=e.author,r=e.body,n=e.votes,a=e.created_at,s=e.comment_id;return Object(u.jsxs)("li",{className:"comments-list",children:[Object(u.jsxs)("h3",{children:["Author: ",c]}),Object(u.jsxs)("p",{children:["Comment: ",r]}),Object(u.jsxs)("p",{children:["Date posted: ",a]}),Object(u.jsx)(V,{votes:n,username:s}),Object(u.jsx)("button",{className:"myButton-delete",onClick:function(){!function(e){var c=t.article_id;P(c,e).then((function(){d(!0),alert("Comment deleted (not really yet)")}))}(s)},children:"Delete Comment"})]},s)}))})]})},K=function(){return Object(u.jsx)("footer",{className:"Header",children:Object(u.jsx)("h3",{children:Object(u.jsxs)("a",{href:"https://jasneastwd.github.io/MyPortfolio/",className:"app-heading",children:["created by jasneastwd"," "]})})})},Q=c(156),X=c(148),$=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.useContext)(b).setUser,s=Object(o.f)(),l={username:"",name:"",avatar_url:""},j=Object(r.useState)(l),d=Object(i.a)(j,2),O=d[0],h=d[1];Object(r.useEffect)((function(){S().then((function(e){n(e)}))}),[O]);return Object(u.jsxs)("div",{className:"Users",children:[Object(u.jsxs)("section",{className:"post-user-form",children:[Object(u.jsx)("h2",{children:"Create a user:"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_(O).then((function(){alert("user added!"),h(l),s.push("/Users")}))},children:[Object(u.jsx)(L.a,{id:"filled-basic",label:"Username",variant:"filled",value:O.username,required:!0,onChange:function(e){h((function(t){return Object(p.a)(Object(p.a)({},t),{},{username:e.target.value})}))}}),Object(u.jsx)("br",{}),Object(u.jsx)(L.a,{id:"filled-basic",label:"Full Name",variant:"filled",value:O.name,required:!0,onChange:function(e){h((function(t){return Object(p.a)(Object(p.a)({},t),{},{name:e.target.value})}))}}),Object(u.jsx)("br",{}),Object(u.jsx)(L.a,{id:"filled-basic",label:"Avatar URL",variant:"filled",value:O.avatar_url,required:!0,placeholder:"Paste URL here",onChange:function(e){h((function(t){return Object(p.a)(Object(p.a)({},t),{},{avatar_url:e.target.value})}))}}),Object(u.jsx)("br",{}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",children:"Create User"})]})]}),Object(u.jsx)("h2",{className:"section-heading",children:"Existing users:"}),Object(u.jsx)("ul",{className:"each-user row",children:c.map((function(e){return Object(u.jsxs)(X.a,{className:"users-list column",children:[Object(u.jsxs)("h2",{children:["Username: ",e.username]}),Object(u.jsx)(Q.a,{src:e.avatar_url,alt:e.username}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",onClick:function(){return function(e){a(e),s.push("/")}(e)},children:"Choose User"})]},e.username)}))})]})},ee=function(){var e=Object(o.f)(),t=Object(o.h)(),c=Object(r.useState)({}),n=Object(i.a)(c,2),a=n[0],s=n[1],j={username:"".concat(a.username),name:"".concat(a.name),avatar_url:""},b=Object(r.useState)(j),d=Object(i.a)(b,2),O=d[0],h=d[1];Object(r.useEffect)((function(){A(t.username).then((function(e){s(e)}))}),[t.username]);return Object(u.jsxs)("main",{className:"individual-user",children:[Object(u.jsxs)("h2",{children:["Username: ",a.username]}),Object(u.jsx)("img",{src:a.avatar_url,alt:a.username}),Object(u.jsxs)("p",{className:"name-p",children:["Name: ",a.name]}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.avatar_url=O.avatar_url,q(j).then((function(){alert("avatar changed!"),h(j),e.push("/Users")}))},children:[Object(u.jsx)(L.a,{className:"post-box",type:"url",variant:"filled",label:"paste image URL here",id:"avatar-patch",value:O.avatar_url,onChange:function(e){h((function(t){return console.log(t),Object(p.a)(Object(p.a)({},t),{},{avatar_url:e.target.value})}))}})," ",Object(u.jsx)("br",{}),Object(u.jsx)(F.a,{color:"primary",variant:"outlined",children:"Update Avatar"})]}),Object(u.jsx)(l.b,{to:"/Users",children:Object(u.jsx)(F.a,{color:"primary",variant:"outlined",children:"Back to Users"})})]})},te=function(){var e=Object(o.f)(),t=Object(r.useContext)(b).user,c=Object(r.useContext)(J).topics,n=Object(o.g)(),a=Object(r.useState)([]),s=Object(i.a)(a,2),j=s[0],d=s[1],O={topic:"",title:"",body:"",author:"".concat(t.username)},h=Object(r.useState)(O),m=Object(i.a)(h,2),x=m[0],f=m[1],v=Object(r.useState)("ASC"),y=Object(i.a)(v,2),g=y[0],w=y[1],k=Object(r.useState)("title"),S=Object(i.a)(k,2),_=S[0],A=S[1],T=Object(r.useState)(""),P=Object(i.a)(T,2),U=P[0],D=P[1],B=n.search.slice(7);Object(r.useEffect)((function(){B?(console.log(B),D(B),console.log(U),N(U).then((function(e){d(e)}))):"show-all"===U?N({sortOrder:g,sortProperty:_}).then((function(e){d(e)})):C({filter:U,sortOrder:g,sortProperty:_}).then((function(e){d(e)}))}),[d,g,_,U,B]);return Object(u.jsxs)("main",{className:"Articles",children:[Object(u.jsxs)("div",{className:"post-article-form",children:[Object(u.jsx)("h2",{className:"article-form-headings",children:"Post an Article:"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),E(x).then((function(){f(O),e.push("/articles")}))},children:[Object(u.jsxs)("label",{htmlFor:"article-topic",className:"post-article-label",children:["Topic:"," "]}),Object(u.jsx)("select",{className:"select-post-box",type:"text",id:"article-topic",required:!0,value:x.topic,onChange:function(e){f((function(t){return Object(p.a)(Object(p.a)({},t),{},{topic:e.target.value})}))},children:c.map((function(e){var t=e.slug;return Object(u.jsx)("option",{value:t,children:t},t)}))}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{htmlFor:"article-title",className:"post-article-label",children:["Title:"," "]}),Object(u.jsx)("input",{className:"post-box",type:"text",id:"article-title",required:!0,value:x.title,onChange:function(e){f((function(t){return Object(p.a)(Object(p.a)({},t),{},{title:e.target.value})}))}}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{htmlFor:"article-body",className:"post-article-label",children:["Body:"," "]}),Object(u.jsx)("textarea",{rows:"5",className:"post-box-bigger",type:"text",id:"article-body",required:!0,value:x.body,onChange:function(e){f((function(t){return Object(p.a)(Object(p.a)({},t),{},{body:e.target.value})}))}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"myButton",children:"Post article"})]})]}),Object(u.jsxs)("div",{className:"select-dropdowns",children:[Object(u.jsx)("h2",{children:"All Articles"}),Object(u.jsxs)("form",{children:[Object(u.jsx)("label",{children:"Filter by: "}),Object(u.jsx)("select",{className:"dropdown",value:U,onChange:function(e){D(e.target.value)},children:c.map((function(e){var t=e.slug;return Object(u.jsx)("option",{value:t,children:t},t)}))})]}),Object(u.jsxs)("p",{children:["Sorted by: ",_," ","ASC"===g?"Ascending":"Descending"]}),Object(u.jsx)("button",{className:"myButton",onClick:function(){return A("title")},children:"Title"}),Object(u.jsx)("button",{className:"myButton",onClick:function(){return A("topic")},children:"Topic"}),Object(u.jsx)("button",{className:"myButton",onClick:function(){return A("votes")},children:"Votes"}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"myButton-arrows",onClick:function(){return w("ASC")},children:"\u2b06"}),Object(u.jsx)("button",{className:"myButton-arrows",onClick:function(){return w("DESC")},children:"\u2b07"})]}),Object(u.jsx)("ul",{className:"each-article",children:j.map((function(e){var t=e.article_id,c=e.title,r=e.topic,n=e.created_at,a=e.votes;return Object(u.jsxs)("li",{className:"articles-list",children:[Object(u.jsx)(l.b,{to:"/articles/".concat(t),children:Object(u.jsx)("h3",{children:c})}),Object(u.jsx)(l.b,{to:"/articles?topic=".concat(r),children:Object(u.jsxs)("p",{children:["Topic: ",r," "]})}),Object(u.jsxs)("p",{children:["Posted: ",n]}),Object(u.jsx)(V,{votes:a,username:t})]},t)}))})]})};c(117);var ce=function(){var e=Object(r.useState)({username:"guest123",avatar_url:"http://cdn.onlinewebfonts.com/svg/img_83486.png"}),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)([]),s=Object(i.a)(a,2),l=s[0],O=s[1];return Object(r.useEffect)((function(){g().then((function(e){O(e)}))}),[]),Object(u.jsx)(b.Provider,{value:{user:c,setUser:n},children:Object(u.jsx)(J.Provider,{value:{topics:l,setTopics:O},children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{}),Object(u.jsx)(d,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(h,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/topics",children:Object(u.jsx)(R,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/articles?topic=:topic",children:Object(u.jsx)(te,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/articles",children:Object(u.jsx)(Z,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/articles/:article_id",children:Object(u.jsx)(z,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/articles/:article_id/comments",children:Object(u.jsx)(G,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/users",children:Object(u.jsx)($,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/users/:username",children:Object(u.jsx)(ee,{})})]}),Object(u.jsx)(K,{})]})})})};s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(l.a,{children:Object(u.jsx)(ce,{})})}),document.getElementById("root"))},86:function(e,t,c){},87:function(e,t,c){}},[[118,1,2]]]);
//# sourceMappingURL=main.a9a0bd28.chunk.js.map